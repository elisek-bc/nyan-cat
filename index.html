<!DOCTYPE html>

<html lang=en>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        
        <title>Nyan-Cat Javascript Exercise</title>
        <link href="https://fonts.googleapis.com/css?family=Teko:400,700" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>

    <!--this is the button-->
        <button id="meowbutton">Meow!</button>

    <!--Javascript starts here-->
        <script>
        
    // creating variable button
        var meow = document.getElementById('meowbutton');

    // 3 steps: on what, when, function?    
        meow.addEventListener('click', everything);

//if (timing is < 10000){ loop function everything()} //setInterval!!!!set timeOut met clearInterval (OPZOEKEN)

    // specifying function on click and creating cat var
        function everything() {
            createCats();
            var cats = document.body.querySelectorAll('.nyanCat');

    // specifying background style + deleting button
            if (cats !=null) {
                document.body.style.backgroundImage = "url('nyancatbackground.gif')";
                document.body.style.backgroundSize = '30vh';
                
                var meow = document.getElementById('meowbutton');
                meow.parentNode.removeChild(meow);

                var nyanAudio = document.createElement('audio');
                nyanAudio.src = 'nyancatsound.mp3';
                document.body.appendChild(nyanAudio);
                nyanAudio.play()
    //audio not working yet
            }


    // working animation
    cats.forEach(function(cat){
        setTimeout(function(){
        var x = Math.floor(Math.random()*parseInt(document.body.clientWidth));
        var y = parseInt(window.innerHeight)+100;
        cat.style.left = x + 'px';
        cat.style.top = y + 'px';},100);
    });
      

    // stops animation after 10sec            
    setTimeout(function(){
        return;},10000);      
        }

        console.log()

/*================================================*/
    
    function createCats (){
            var numCats = 20;

            for (var i = 0; i<numCats; i++) {
            var nyanCat = document.createElement('img');
            nyanCat.src = 'nyancatrainbow.png';
           // nyanCat.classList.add('nyanCat-start');

    // random positioning start
            var x = Math.floor(Math.random()*parseInt(document.body.clientWidth));
            nyanCat.style.left = x + 'px';
            nyanCat.style.top = '-100px'; 

            //var startposition = 'nyanCat-start'
            //startposition = nyanCatX , nyanCatY;

    // styling and placing
            nyanCat.style.height = '60px';
            nyanCat.style.transform = 'rotate(45deg)';
            document.body.appendChild(nyanCat);
            nyanCat.classList.add('nyanCat');
            }
            }

        </script>

    </body> 

</html>